load("@mostrobotpy_tests_pip_deps//:requirements.bzl", "requirement")
load("@rules_semiwrap//:defs.bzl", "robotpy_py_test")
load("//bazel_scripts:file_resolver_utils.bzl", "local_pybind_library")

robotpy_py_test(
    "wpilib_tests",
    extra_sources = ["conftest.py"],
    tests = glob(
        ["**/*.py"],
        exclude = [
            "conftest.py",
            "run_tests.py",
        ],
    ),
    deps = [
        requirement("pytest"),
        local_pybind_library("//subprojects/robotpy-halsim-ds-socket", "halsim_ds_socket"),
    ],
)
